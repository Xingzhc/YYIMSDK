YYIMChat=function(e){var t=e.constructor,r=function(){function t(t){jQuery.ajax({url:e.getConfig().SERVLET.REST_TRANSFORM_SERVLET+"docInfo",type:"get",data:{attachId:t.attachId,token:e.getToken(),downloader:e.getUserNode()},dataType:"json",cache:!1,success:t.success,error:function(e){try{t.error&&t.error(JSON.parse(e.responseText)),t=null}catch(e){t.error&&t.error(),t=null}}})}function r(t,r){if(t){if(/^https?:\/\/|^data:image\/jpeg;/.test(t))return t;return e.getConfig().SERVLET.REST_RESOURCE_SERVLET+e.getConfig().MULTI_TENANCY.ETP_KEY+"/"+e.getConfig().MULTI_TENANCY.APP_KEY+"/download"+"?"+jQuery.param({attachId:t,downloader:e.getUserNode(),token:e.getToken(),mediaType:1===r?r:2})}}return{getTransformFileList:t,getFileUrl:r}}();return t.prototype.getTransformFileList=function(e){e&&e.attachId?r.getTransformFileList(e):e&&e.error&&e.error()},t.prototype.getFileUrl=function(e,t){if(e)return r.getFileUrl(e,t)},t.getInstance()}(YYIMChat);